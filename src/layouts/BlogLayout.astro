---
import Layout from "./Layout.astro";
import TagPill from "../components/TagPill.astro";
const { title = "", pubDate = null, editedDate = null, description = "", tags = [] } = Astro.props.frontmatter ?? {};
---

<Layout title={title} description={description}>
  <main class="relative min-h-screen p-8">
    <div class="max-w-3xl mx-auto">
      <nav class="mb-6">
        <a href="/blog" class="text-sm text-gray-400 hover:text-white">← Back to blog</a>
      </nav>

      <header class="mb-6">
        <h1 class="text-4xl font-bold text-white mb-2">{title}</h1>
        <div class="flex flex-col sm:flex-row sm:items-center sm:justify-between gap-2">
          <div>
            {pubDate && (
              <p class="text-gray-400 text-sm">{new Date(pubDate).toLocaleDateString("en-US", { year: 'numeric', month: 'long', day: 'numeric', timeZone: "UTC" })}</p>
            )}
            {editedDate && (
              <p class="text-gray-400 text-sm">{"Last edited: " + new Date(editedDate).toLocaleDateString("en-US", { year: 'numeric', month: 'long', day: 'numeric', timeZone: "UTC" })}</p>
            )}
          </div>

          {tags && tags.length > 0 && (
            <div class="mt-3 sm:mt-0 flex flex-wrap gap-2">
              {tags.map((t) => (
                <TagPill tag={t} size="sm" />
              ))}
            </div>
          )}
        </div>

        {description && <p class="text-gray-300 mt-4">{description}</p>}
      </header>

      <article class="prose prose-invert max-w-none text-gray-100">
        <slot />
      </article>

      <footer class="mt-8 text-sm text-gray-400">
        <p>- <a href="/" class="text-white hover:underline">Zander Lewis</a></p>
        <nav class="mt-6">
          <a href="/blog" class="text-sm text-gray-400 hover:text-white">← Back to blog</a>
        </nav>
      </footer>
    </div>
  </main>
</Layout>
